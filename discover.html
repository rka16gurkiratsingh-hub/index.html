<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Discover Books â€“ ReadSpark</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#020617;
  color:#e5e7eb;
  display:flex;
  flex-direction:column;
  align-items:center;
  overflow:hidden;
}

header{
  width:100%;
  padding:20px;
  text-align:center;
  background:rgba(2,6,23,0.7);
  backdrop-filter:blur(12px);
  border-bottom:1px solid rgba(255,255,255,0.08);
}

header a{
  color:#93c5fd;
  text-decoration:none;
  font-weight:bold;
}

h1{margin:10px 0}

.swipe-container{
  position:relative;
  width:320px;
  height:440px;
  margin-top:40px;
}

.card{
  position:absolute;
  width:100%;
  height:100%;
  background:rgba(30,41,59,0.75);
  backdrop-filter:blur(16px);
  border-radius:26px;
  padding:24px;
  box-shadow:0 20px 40px rgba(0,0,0,0.4);
  display:flex;
  flex-direction:column;
  justify-content:center;
  text-align:center;
  touch-action:none;
}

.card h2{margin-bottom:10px}
.card p{color:#cbd5f5}

.badge{
  position:absolute;
  top:20px;
  padding:10px 16px;
  border-radius:12px;
  font-weight:bold;
  opacity:0;
}
.like{
  left:20px;
  background:#22c55e;
  color:#022c22;
}
.nope{
  right:20px;
  background:#ef4444;
  color:white;
}

/* MATCH OVERLAY */
.match{
  position:fixed;
  inset:0;
  background:rgba(2,6,23,0.85);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:99;
  opacity:0;
  pointer-events:none;
}

.match.active{
  animation:matchPop 1.5s ease forwards;
}

.match-box{
  background:linear-gradient(135deg,#22c55e,#4ade80);
  color:#022c22;
  padding:40px 60px;
  border-radius:30px;
  font-size:36px;
  font-weight:900;
  box-shadow:0 30px 60px rgba(0,0,0,0.5);
}

@keyframes matchPop{
  0%{opacity:0;transform:scale(0.6)}
  20%{opacity:1;transform:scale(1.1)}
  50%{transform:scale(1)}
  100%{opacity:0}
}

.hint{
  margin-top:30px;
  color:#94a3b8;
  font-size:14px;
}
</style>
</head>

<body>

<header>
  <a href="index.html">â¬… Back to Home</a>
  <h1>ðŸ“– Discover Books</h1>
</header>

<div class="swipe-container" id="container"></div>

<p class="hint">â¬… Swipe left to skip Â· Swipe right to like âž¡</p>

<!-- MATCH OVERLAY -->
<div class="match" id="match">
  <div class="match-box">ðŸŽ‰ ITâ€™S A MATCH!</div>
</div>

<script>
const books = [
  { title: "The Soulâ€™s Labyrinth", desc: "A philosophical journey into the human mind." },
  { title: "Echoes of Time", desc: "A mystery that bends reality and memory." },
  { title: "Mind Over Matter", desc: "Where science meets human potential." },
  { title: "The Silent Code", desc: "A thriller hidden in algorithms." }
];

const container = document.getElementById("container");
const match = document.getElementById("match");
let index = 0;

function showMatch(){
  match.classList.add("active");
  setTimeout(()=>match.classList.remove("active"),1500);
}

function createCard(book){
  const card = document.createElement("div");
  card.className = "card";

  card.innerHTML = `
    <div class="badge like">LIKE</div>
    <div class="badge nope">NOPE</div>
    <h2>${book.title}</h2>
    <p>${book.desc}</p>
  `;

  container.appendChild(card);
  enableSwipe(card);
}

function loadNext(){
  if(index < books.length){
    createCard(books[index]);
    index++;
  }
}

function enableSwipe(card){
  let startX = 0;
  let currentX = 0;

  const like = card.querySelector(".like");
  const nope = card.querySelector(".nope");

  card.addEventListener("touchstart", e => {
    startX = e.touches[0].clientX;
  });

  card.addEventListener("touchmove", e => {
    currentX = e.touches[0].clientX - startX;
    card.style.transform = `translateX(${currentX}px) rotate(${currentX/10}deg)`;

    like.style.opacity = currentX > 60 ? 1 : 0;
    nope.style.opacity = currentX < -60 ? 1 : 0;
  });

  card.addEventListener("touchend", () => {
    if(currentX > 120){
      showMatch();
      swipeAway(card,600);
    } 
    else if(currentX < -120){
      swipeAway(card,-600);
    }
    else{
      card.style.transform="translateX(0)";
      like.style.opacity=0;
      nope.style.opacity=0;
    }
    currentX=0;
  });
}

function swipeAway(card,x){
  card.style.transform=`translateX(${x}px) rotate(${x/8}deg)`;
  setTimeout(()=>card.remove(),300);
  loadNext();
}

loadNext();
loadNext();
</script>

</body>
</html>
